<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pokedéx</title>
    <link rel="stylesheet" href="pk.css">
</head>
<body>
    <div>
        
            <input  type="text" id="pokemon" name="numero" class="input">
                <button id="butao" type="button" onclick="Clicar()" class="button">
                pesquisar na pokedex
                </button><br>
        <div>
        <p id="num"></p><p id="nome"></p><br> <!--<input type="text" id="tipo"><br>-->
        <p id="tipo"></p><br>
        <img src="" id="img" alt="">
        </div>
        <button id="Anterior" type="button" onclick="Anterior()" >Anterior</button>
        <button id="Próximo" type="button" onclick="Próximo()" >Próximo</button>
    </div>
            <script>

                 
                function Clicar()
                {
                    var input = document.getElementById("pokemon")
                    var nome = document.getElementById("nome")
                    var img = document.getElementById("img")
                    var tipo = document.getElementById("tipo")
                    var num = document.getElementById("num")
                    


                        var url = "https://pokeapi.co/api/v2/pokemon/" + input.value  
                        
                        fetch(url)
                        .then(response => response.json())
                .then((dados) => {
            
                    nome.textContent = dados.name               // a variavel com o value funciona so com input, pois ele nao esta dentro de uma div que funciona com container
                        img.src = dados.sprites.other.showdown.front_default
                        img.style.width = "200px"
                        img.style.height = "auto"
                    tipo.textContent = "Tipo: " + dados.types[0].type.name
                    num.textContent = "#" + dados.order

                    function Próximo() {
            var val = Number(dados.order);
            if (!isNaN(val)) {  //é uma função do JavaScript que verifica se o valor passado não é um número (NaN = Not a Number).
                val++
                input.value = val
                buscarPokemon(val)
            }
        }

        function Anterior() {
            var val = Number(dados.order) //coloca a api
            if (!isNaN(val) && val > 1) {
                val--
                input.value = val
                buscarPokemon(val)
            }
        }
                })

                    console.log("foi porra")
                } 


            </script>
</body>
</html>